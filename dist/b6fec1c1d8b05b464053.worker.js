!function(Q){var F={};function U(B){if(F[B])return F[B].exports;var n=F[B]={i:B,l:!1,exports:{}};return Q[B].call(n.exports,n,n.exports,U),n.l=!0,n.exports}U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},U.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},U.t=function(Q,F){if(1&F&&(Q=U(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(U.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var n in Q)U.d(B,n,function(F){return Q[F]}.bind(null,n));return B},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},U.p="",U(U.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/commonClasses.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Point =\n/*#__PURE__*/\nfunction () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Point, [{\n    key: \"copy\",\n    value: function copy(pt) {\n      this.x = pt.x;\n      this.y = pt.y;\n    }\n  }, {\n    key: \"sum\",\n    value: function sum(a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n    }\n  }, {\n    key: \"distanceSquare\",\n    value: function distanceSquare(pt) {\n      var dx = this.x - pt.x;\n      var dy = this.y - pt.y;\n      return dx * dx + dy * dy;\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(pt) {\n      return Math.floor(Math.sqrt(this.distanceSquare(pt)));\n    }\n  }]);\n\n  return Point;\n}();\n// CONCATENATED MODULE: ./src/rand.js\n\n\n\n\nvar randBufferSize = 100000;\nvar currentRand = 0;\nvar randNum = Array(randBufferSize);\nvar unitJump = 1;\n\nfunction initRandNum() {\n  for (var i = 0; i < randBufferSize; i++) {\n    randNum[i] = Math.random();\n  }\n}\n\nfunction getRandUniformBool() {\n  if (currentRand > randBufferSize - 1) currentRand = -1;\n  currentRand++;\n  return randNum[currentRand];\n}\n\nfunction getRandUniformRadian() {\n  return getRandUniformBool() * Math.PI * 2.0;\n}\n\nfunction getRandUniformCircularPosition(radius, seed) {\n  var randRadian = getRandUniformRadian();\n  return new Point(Math.floor(radius * Math.cos(randRadian)) + seed.x, Math.floor(radius * Math.sin(randRadian)) + seed.y);\n}\n\nfunction getHorizontalRandJump(horizontalDrift) {\n  if (getRandUniformBool() > horizontalDrift) return unitJump;else return -unitJump;\n}\n\nfunction getVerticalRandJump(verticalDrift) {\n  if (getRandUniformBool() > verticalDrift) return unitJump;else return -unitJump;\n}\n\nfunction getRandJump(horizontalDrift, verticalDrift) {\n  var jump = new Point(0, 0);\n\n  if (getRandUniformBool() < 0.5) {\n    jump.x = getHorizontalRandJump(horizontalDrift);\n  } else {\n    jump.y = getVerticalRandJump(verticalDrift);\n  }\n\n  return jump;\n}\n// CONCATENATED MODULE: ./src/fractalDim.js\n\n\nvar mass;\n\nvar isR2Calculation = false;\nvar minRadiusForCalculation = 15;\nvar minPointsCountToCalculate = 30;\n\nfunction fractalDim_reset() {\n  mass = undefined;\n}\n\nfunction fractalDim2(newParticleDist, maxR, maxSize) {\n  if (mass === undefined) {\n    mass = new Array(maxSize).fill(0);\n  }\n\n  for (var i = 0; i < newParticleDist.length; i++) {\n    mass[newParticleDist[i]]++;\n  }\n\n  var logSize = [];\n  var logMass = [];\n  var counter = 0;\n  var totalMass = 0;\n\n  for (var _i = minRadiusForCalculation; _i < maxR; _i++) {\n    if (mass[_i] > 0) {\n      totalMass += mass[_i];\n      logSize[counter] = Math.log(_i);\n      logMass[counter] = Math.log(totalMass);\n      counter++;\n    }\n  }\n\n  if (logSize.length > minPointsCountToCalculate) return linearRegression(logMass, logSize).slope;\n}\n\nfunction linearRegression(y, x) {\n  var lr = {};\n  var n = y.length;\n  var sum_x = 0;\n  var sum_y = 0;\n  var sum_xy = 0;\n  var sum_xx = 0;\n  var sum_yy = 0;\n\n  for (var i = 0; i < y.length; i++) {\n    sum_x += x[i];\n    sum_y += y[i];\n    sum_xy += x[i] * y[i];\n    sum_xx += x[i] * x[i];\n    sum_yy += y[i] * y[i];\n  }\n\n  if (isR2Calculation) {\n    lr['r2'] = Math.pow((n * sum_xy - sum_x * sum_y) / Math.sqrt((n * sum_xx - sum_x * sum_x) * (n * sum_yy - sum_y * sum_y)), 2);\n  }\n\n  lr['slope'] = (n * sum_xy - sum_x * sum_y) / (n * sum_xx - sum_x * sum_x);\n  lr['intercept'] = (sum_y - lr.slope * sum_x) / n;\n  return lr;\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/core.js\n\n\n\nvar insertMargin = 3;\nvar domainMargin = 5;\nvar maxStepsForParticle = 100000;\nvar particlesPerMessage = 10;\nvar currentMaxRadius = 0;\nvar maxAggregateRadiusAllowed;\nvar isStop = false;\nvar bigTable;\nvar core_seed;\nvar core_horizontalDrift;\nvar core_verticalDrift;\nvar stickProbability;\nvar aggregatedParticlesCount = 0;\nvar aggregatedPointRadii = [];\nvar aggregatedParticlesList = [];\nvar canvasSize;\n\nonmessage = function onmessage(msg) {\n  if (msg.data === 'init') runInit();else if (msg.data === 'start') {\n    isStop = false;\n    runSimulation();\n  } else if (msg.data === 'stop') {\n    isStop = true;\n    runInit();\n  } else if (msg.data === 'stop') {\n    isStop = true;\n  } else if (msg.data === 'continue' && !isStop) runSimulation();else if (Array.isArray(msg.data)) {\n    if (msg.data[0] === 'paramsUpdate') {\n      core_verticalDrift = msg.data[1].driftVertical;\n      core_horizontalDrift = msg.data[1].driftHorizontal;\n      stickProbability = msg.data[1].aggregationProbability;\n    } else if (msg.data[0] === 'init') {\n      canvasSize = msg.data[1].canvasSize;\n      core_seed = msg.data[1].seed;\n      maxAggregateRadiusAllowed = Math.floor(0.5 * Math.sqrt(canvasSize.x * canvasSize.x + canvasSize.y * canvasSize.y));\n      runInit();\n    }\n  }\n};\n\nfunction runInit() {\n  aggregatedPointRadii = [];\n  aggregatedParticlesList = [];\n  fractalDim_reset();\n  initRandNum();\n  bigTable = new Array(canvasSize.x * canvasSize.y).fill(0);\n  currentMaxRadius = 0;\n  aggregatedParticlesCount = 0;\n  drawPixel(new Point(core_seed.x, core_seed.y), canvasSize);\n  drawPixel(new Point(core_seed.x + 1, core_seed.y + 1), canvasSize);\n  drawPixel(new Point(core_seed.x, core_seed.y + 1), canvasSize);\n  drawPixel(new Point(core_seed.x + 1, core_seed.y), canvasSize);\n}\n\nfunction runSimulation() {\n  if (core()) aggregatedParticlesCount++;\n\n  if (aggregatedParticlesCount % particlesPerMessage === 0) {\n    var fd = fractalDim2(aggregatedPointRadii, currentMaxRadius, maxAggregateRadiusAllowed);\n    postMessage({\n      part: JSON.stringify(aggregatedParticlesList),\n      fd: fd,\n      aggregatedParticlesCount: aggregatedParticlesCount,\n      currentMaxRadius: currentMaxRadius\n    });\n    aggregatedParticlesList.length = 0;\n  } else if (!isStop) {\n    if (aggregatedParticlesCount % particlesPerMessage === 0) setTimeout(runSimulation, 0);else runSimulation();\n  }\n}\n\nfunction core() {\n  var isNotAggregated = true;\n  var newPosition = new Point(0, 0);\n  var startPosition = new Point(0, 0);\n  var randCircularPosition = getRandUniformCircularPosition(currentMaxRadius + insertMargin, core_seed);\n  startPosition.copy(randCircularPosition);\n\n  for (var doneSteps = 0; doneSteps < maxStepsForParticle; doneSteps++) {\n    if (!isNotAggregated) return;\n\n    if (currentMaxRadius >= maxAggregateRadiusAllowed) {\n      isStop = true;\n      return;\n    }\n\n    if (currentMaxRadius > maxAggregateRadiusAllowed) return;\n    var jump = getRandJump(core_horizontalDrift, core_verticalDrift);\n    newPosition.sum(startPosition, jump);\n\n    if (!isJumpWithinDomain(newPosition, currentMaxRadius + domainMargin, core_seed)) {\n      newPosition.copy(startPosition);\n    } else {\n      if (isAggregate(newPosition, canvasSize)) {\n        if (isGetAggregated()) {\n          drawPixel(startPosition, canvasSize);\n          aggregatedPointRadii.push(startPosition.distance(core_seed));\n          aggregatedParticlesList.push(newPosition);\n          if (aggregatedPointRadii[aggregatedParticlesCount] > currentMaxRadius) currentMaxRadius = aggregatedPointRadii[aggregatedParticlesCount];\n          isNotAggregated = false;\n          return true;\n        }\n      } else {\n        startPosition.copy(newPosition);\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isJumpWithinDomain(newPosition, maxR, seed) {\n  return newPosition.distanceSquare(seed) <= maxR * maxR;\n}\n\nfunction isAggregate(position, canvasSize) {\n  var index = position.x + position.y * canvasSize.x;\n  return bigTable[index] === 1;\n}\n\nfunction isGetAggregated() {\n  return getRandUniformBool() < stickProbability;\n}\n\nfunction drawPixel(point, canvasSize) {\n  var index = point.x + point.y * canvasSize.x;\n  bigTable[index] = 1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uQ2xhc3Nlcy5qcz9kNDUwIiwid2VicGFjazovLy8uL3NyYy9yYW5kLmpzP2FhNmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYWN0YWxEaW0uanM/Mjk5OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS5qcz8yMGM5Il0sIm5hbWVzIjpbIlBvaW50IiwieCIsInkiLCJwdCIsImEiLCJiIiwiZHgiLCJkeSIsIk1hdGgiLCJmbG9vciIsInNxcnQiLCJkaXN0YW5jZVNxdWFyZSIsInJhbmRCdWZmZXJTaXplIiwiY3VycmVudFJhbmQiLCJyYW5kTnVtIiwiQXJyYXkiLCJ1bml0SnVtcCIsImluaXRSYW5kTnVtIiwiaSIsInJhbmRvbSIsImdldFJhbmRVbmlmb3JtQm9vbCIsImdldFJhbmRVbmlmb3JtUmFkaWFuIiwiUEkiLCJnZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb24iLCJyYWRpdXMiLCJzZWVkIiwicmFuZFJhZGlhbiIsImNvcyIsInNpbiIsImdldEhvcml6b250YWxSYW5kSnVtcCIsImhvcml6b250YWxEcmlmdCIsImdldFZlcnRpY2FsUmFuZEp1bXAiLCJ2ZXJ0aWNhbERyaWZ0IiwiZ2V0UmFuZEp1bXAiLCJqdW1wIiwibWFzcyIsImlzUjJDYWxjdWxhdGlvbiIsIm1pblJhZGl1c0ZvckNhbGN1bGF0aW9uIiwibWluUG9pbnRzQ291bnRUb0NhbGN1bGF0ZSIsInJlc2V0IiwidW5kZWZpbmVkIiwiZnJhY3RhbERpbTIiLCJuZXdQYXJ0aWNsZURpc3QiLCJtYXhSIiwibWF4U2l6ZSIsImZpbGwiLCJsZW5ndGgiLCJsb2dTaXplIiwibG9nTWFzcyIsImNvdW50ZXIiLCJ0b3RhbE1hc3MiLCJsb2ciLCJsaW5lYXJSZWdyZXNzaW9uIiwic2xvcGUiLCJsciIsIm4iLCJzdW1feCIsInN1bV95Iiwic3VtX3h5Iiwic3VtX3h4Iiwic3VtX3l5IiwicG93IiwiaW5zZXJ0TWFyZ2luIiwiZG9tYWluTWFyZ2luIiwibWF4U3RlcHNGb3JQYXJ0aWNsZSIsInBhcnRpY2xlc1Blck1lc3NhZ2UiLCJjdXJyZW50TWF4UmFkaXVzIiwibWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZCIsImlzU3RvcCIsImJpZ1RhYmxlIiwic3RpY2tQcm9iYWJpbGl0eSIsImFnZ3JlZ2F0ZWRQYXJ0aWNsZXNDb3VudCIsImFnZ3JlZ2F0ZWRQb2ludFJhZGlpIiwiYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QiLCJjYW52YXNTaXplIiwib25tZXNzYWdlIiwibXNnIiwiZGF0YSIsInJ1bkluaXQiLCJydW5TaW11bGF0aW9uIiwiaXNBcnJheSIsImRyaWZ0VmVydGljYWwiLCJkcmlmdEhvcml6b250YWwiLCJhZ2dyZWdhdGlvblByb2JhYmlsaXR5IiwiZnJhY3RhbERpbSIsInJhbmQiLCJkcmF3UGl4ZWwiLCJjb3JlIiwiZmQiLCJwb3N0TWVzc2FnZSIsInBhcnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VGltZW91dCIsImlzTm90QWdncmVnYXRlZCIsIm5ld1Bvc2l0aW9uIiwic3RhcnRQb3NpdGlvbiIsInJhbmRDaXJjdWxhclBvc2l0aW9uIiwiY29weSIsImRvbmVTdGVwcyIsInN1bSIsImlzSnVtcFdpdGhpbkRvbWFpbiIsImlzQWdncmVnYXRlIiwiaXNHZXRBZ2dyZWdhdGVkIiwicHVzaCIsImRpc3RhbmNlIiwicG9zaXRpb24iLCJpbmRleCIsInBvaW50Il0sIm1hcHBpbmdzIjoiOzs7QUFBYTs7Ozs7Ozs7QUFFYjs7SUFFTUEsSzs7O0FBQ0YsaUJBQVlDLENBQVosRUFBZUMsQ0FBZixFQUFrQjtBQUFBOztBQUNkLFNBQUtELENBQUwsR0FBU0EsQ0FBVDtBQUNBLFNBQUtDLENBQUwsR0FBU0EsQ0FBVDtBQUNIOzs7O3lCQUVJQyxFLEVBQUk7QUFDTCxXQUFLRixDQUFMLEdBQVNFLEVBQUUsQ0FBQ0YsQ0FBWjtBQUNBLFdBQUtDLENBQUwsR0FBU0MsRUFBRSxDQUFDRCxDQUFaO0FBQ0g7Ozt3QkFFR0UsQyxFQUFHQyxDLEVBQUc7QUFDTixXQUFLSixD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RUFBK0JoQyxVQUEvQixFQUEyQztBQUN2QyxNQUFJaUMsS0FBSyxHQUFJRCxRQUFRLENBQUN6RyxDQUFULEdBQWF5RyxRQUFRLENBQUN4RyxDQUFULEdBQWF3RSxVQUFVLENBQUN6RSxDQUFsRDtBQUNBLFNBQU9vRSxRQUFRLENBQUNzQyxLQUFELENBQVIsS0FBb0IsQ0FBM0I7QUFDSDs7QUFFRCxTQUFTSixlQUFULEdBQTJCO0FBQ3ZCLFNBQVFsQixrQkFBQSxLQUE0QmYsZ0JBQXBDO0FBQ0g7O0FBRUQsU0FBU2dCLFNBQVQsQ0FBbUJzQixLQUFuQixFQUEwQmxDLFVBQTFCLEVBQXNDO0FBQ2xDLE1BQUlpQyxLQUFLLEdBQUlDLEtBQUssQ0FBQzNHLENBQU4sR0FBVTJHLEtBQUssQ0FBQzFHLENBQU4sR0FBVXdFLFVBQVUsQ0FBQ3pFLENBQTVDO0FBQ0FvRSxVQUFRLENBQUNzQyxLQUFELENBQVIsR0FBa0IsQ0FBbEI7QUFDSCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQge1BvaW50fTtcblxuY2xhc3MgUG9pbnQge1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICBjb3B5KHB0KSB7XG4gICAgICAgIHRoaXMueCA9IHB0Lng7XG4gICAgICAgIHRoaXMueSA9IHB0Lnk7XG4gICAgfVxuXG4gICAgc3VtKGEsIGIpIHtcbiAgICAgICAgdGhpcy54ID0gYS54ICsgYi54O1xuICAgICAgICB0aGlzLnkgPSBhLnkgKyBiLnk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VTcXVhcmUocHQpIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy54IC0gcHQueDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy55IC0gcHQueTtcbiAgICAgICAgcmV0dXJuIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UocHQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmUocHQpKSk7XG4gICAgfVxuXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQge2luaXRSYW5kTnVtLCBnZXRSYW5kVW5pZm9ybUJvb2wsIGdldFJhbmRKdW1wLCBnZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb259XG5pbXBvcnQge1BvaW50fSBmcm9tICcuL2NvbW1vbkNsYXNzZXMnO1xuXG5jb25zdCByYW5kQnVmZmVyU2l6ZSA9IDEwMDAwMDtcbmxldCBjdXJyZW50UmFuZCA9IDA7XG5sZXQgcmFuZE51bSA9IEFycmF5KHJhbmRCdWZmZXJTaXplKTtcbmNvbnN0IHVuaXRKdW1wID0gMTtcblxuZnVuY3Rpb24gaW5pdFJhbmROdW0oKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5kQnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgIHJhbmROdW1baV0gPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmFuZFVuaWZvcm1Cb29sKCkge1xuICAgIGlmIChjdXJyZW50UmFuZCA+IHJhbmRCdWZmZXJTaXplIC0gMSlcbiAgICAgICAgY3VycmVudFJhbmQgPSAtMTtcblxuICAgIGN1cnJlbnRSYW5kKys7XG4gICAgcmV0dXJuIHJhbmROdW1bY3VycmVudFJhbmRdO1xufVxuXG5mdW5jdGlvbiBnZXRSYW5kVW5pZm9ybVJhZGlhbigpIHtcbiAgICByZXR1cm4gZ2V0UmFuZFVuaWZvcm1Cb29sKCkgKiBNYXRoLlBJICogMi4wO1xufVxuXG5mdW5jdGlvbiBnZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb24ocmFkaXVzLCBzZWVkKSB7XG4gICAgbGV0IHJhbmRSYWRpYW4gPSBnZXRSYW5kVW5pZm9ybVJhZGlhbigpO1xuICAgIHJldHVybiBuZXcgUG9pbnQoTWF0aC5mbG9vcihyYWRpdXMgKiBNYXRoLmNvcyhyYW5kUmFkaWFuKSkgKyBzZWVkLngsIE1hdGguZmxvb3IocmFkaXVzICogTWF0aC5zaW4ocmFuZFJhZGlhbikpICsgc2VlZC55KTtcbn1cblxuZnVuY3Rpb24gZ2V0SG9yaXpvbnRhbFJhbmRKdW1wKGhvcml6b250YWxEcmlmdCkge1xuICAgIGlmIChnZXRSYW5kVW5pZm9ybUJvb2woKSA+IGhvcml6b250YWxEcmlmdCkgcmV0dXJuIHVuaXRKdW1wO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIC11bml0SnVtcDtcbn1cblxuZnVuY3Rpb24gZ2V0VmVydGljYWxSYW5kSnVtcCh2ZXJ0aWNhbERyaWZ0KSB7XG4gICAgaWYgKGdldFJhbmRVbmlmb3JtQm9vbCgpID4gdmVydGljYWxEcmlmdCkgcmV0dXJuIHVuaXRKdW1wO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIC11bml0SnVtcDtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZEp1bXAoaG9yaXpvbnRhbERyaWZ0LCB2ZXJ0aWNhbERyaWZ0KSB7XG4gICAgbGV0IGp1bXAgPSBuZXcgUG9pbnQoMCwgMCk7XG5cbiAgICBpZiAoZ2V0UmFuZFVuaWZvcm1Cb29sKCkgPCAwLjUpIHtcbiAgICAgICAganVtcC54ID0gZ2V0SG9yaXpvbnRhbFJhbmRKdW1wKGhvcml6b250YWxEcmlmdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAganVtcC55ID0gZ2V0VmVydGljYWxSYW5kSnVtcCh2ZXJ0aWNhbERyaWZ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGp1bXA7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgbWFzcztcblxuZXhwb3J0IHtmcmFjdGFsRGltMiwgcmVzZXR9XG5cbmNvbnN0IGlzUjJDYWxjdWxhdGlvbiA9IGZhbHNlO1xuY29uc3QgbWluUmFkaXVzRm9yQ2FsY3VsYXRpb24gPSAxNTtcbmNvbnN0IG1pblBvaW50c0NvdW50VG9DYWxjdWxhdGUgPSAzMDtcblxuXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgICBtYXNzID0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBmcmFjdGFsRGltMihuZXdQYXJ0aWNsZURpc3QsIG1heFIsIG1heFNpemUpIHtcblxuICAgIGlmIChtYXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFzcyA9IG5ldyBBcnJheShtYXhTaXplKS5maWxsKDApO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3UGFydGljbGVEaXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICBtYXNzW25ld1BhcnRpY2xlRGlzdFtpXV0rKztcblxuICAgIGxldCBsb2dTaXplID0gW107XG4gICAgbGV0IGxvZ01hc3MgPSBbXTtcbiAgICBsZXQgY291bnRlciA9IDA7XG4gICAgbGV0IHRvdGFsTWFzcyA9IDA7XG4gICAgZm9yIChsZXQgaSA9IG1pblJhZGl1c0ZvckNhbGN1bGF0aW9uOyBpIDwgbWF4UjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXNzW2ldID4gMCkge1xuICAgICAgICAgICAgdG90YWxNYXNzICs9IG1hc3NbaV07XG4gICAgICAgICAgICBsb2dTaXplW2NvdW50ZXJdID0gTWF0aC5sb2coaSk7XG4gICAgICAgICAgICBsb2dNYXNzW2NvdW50ZXJdID0gTWF0aC5sb2codG90YWxNYXNzKTtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobG9nU2l6ZS5sZW5ndGggPiBtaW5Qb2ludHNDb3VudFRvQ2FsY3VsYXRlKVxuICAgICAgICByZXR1cm4gbGluZWFyUmVncmVzc2lvbihsb2dNYXNzLCBsb2dTaXplKS5zbG9wZTtcbn1cblxuZnVuY3Rpb24gbGluZWFyUmVncmVzc2lvbih5LCB4KSB7XG5cbiAgICBsZXQgbHIgPSB7fTtcbiAgICBsZXQgbiA9IHkubGVuZ3RoO1xuICAgIGxldCBzdW1feCA9IDA7XG4gICAgbGV0IHN1bV95ID0gMDtcbiAgICBsZXQgc3VtX3h5ID0gMDtcbiAgICBsZXQgc3VtX3h4ID0gMDtcbiAgICBsZXQgc3VtX3l5ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHN1bV94ICs9IHhbaV07XG4gICAgICAgIHN1bV95ICs9IHlbaV07XG5cbiAgICAgICAgc3VtX3h5ICs9ICh4W2ldICogeVtpXSk7XG4gICAgICAgIHN1bV94eCArPSAoeFtpXSAqIHhbaV0pO1xuICAgICAgICBzdW1feXkgKz0gKHlbaV0gKiB5W2ldKTtcbiAgICB9XG4gICAgaWYgKGlzUjJDYWxjdWxhdGlvbikge1xuICAgICAgICBsclsncjInXSA9IE1hdGgucG93KChuICogc3VtX3h5IC0gc3VtX3ggKiBzdW1feSkgLyBNYXRoLnNxcnQoKG4gKiBzdW1feHggLSBzdW1feCAqIHN1bV94KSAqIChuICogc3VtX3l5IC0gc3VtX3kgKiBzdW1feSkpLCAyKTtcbiAgICB9XG4gICAgbHJbJ3Nsb3BlJ10gPSAobiAqIHN1bV94eSAtIHN1bV94ICogc3VtX3kpIC8gKG4gKiBzdW1feHggLSBzdW1feCAqIHN1bV94KTtcbiAgICBsclsnaW50ZXJjZXB0J10gPSAoc3VtX3kgLSBsci5zbG9wZSAqIHN1bV94KSAvIG47XG4gICAgcmV0dXJuIGxyXG59XG4iLCJpbXBvcnQge1BvaW50fSBmcm9tICcuL2NvbW1vbkNsYXNzZXMnO1xuaW1wb3J0ICogYXMgcmFuZCBmcm9tICcuL3JhbmQnO1xuaW1wb3J0ICogYXMgZnJhY3RhbERpbSBmcm9tICcuL2ZyYWN0YWxEaW0nXG5cblxuY29uc3QgaW5zZXJ0TWFyZ2luID0gMztcbmNvbnN0IGRvbWFpbk1hcmdpbiA9IDU7XG5jb25zdCBtYXhTdGVwc0ZvclBhcnRpY2xlID0gMTAwMDAwO1xuY29uc3QgcGFydGljbGVzUGVyTWVzc2FnZSA9IDEwO1xuXG5sZXQgY3VycmVudE1heFJhZGl1cyA9IDA7XG5sZXQgbWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZDtcbmxldCBpc1N0b3AgPSBmYWxzZTtcbmxldCBiaWdUYWJsZTtcbmxldCBzZWVkO1xubGV0IGhvcml6b250YWxEcmlmdDtcbmxldCB2ZXJ0aWNhbERyaWZ0O1xubGV0IHN0aWNrUHJvYmFiaWxpdHk7XG5cbmxldCBhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgPSAwO1xubGV0IGFnZ3JlZ2F0ZWRQb2ludFJhZGlpID0gW107XG5sZXQgYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QgPSBbXTtcbmxldCBjYW52YXNTaXplO1xuXG5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgaWYgKG1zZy5kYXRhID09PSAnaW5pdCcpXG4gICAgICAgIHJ1bkluaXQoKTtcbiAgICBlbHNlIGlmIChtc2cuZGF0YSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBpc1N0b3AgPSBmYWxzZTtcbiAgICAgICAgcnVuU2ltdWxhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAobXNnLmRhdGEgPT09ICdzdG9wJykge1xuICAgICAgICBpc1N0b3AgPSB0cnVlO1xuICAgICAgICBydW5Jbml0KCk7XG4gICAgfSBlbHNlIGlmIChtc2cuZGF0YSA9PT0gJ3N0b3AnKSB7XG4gICAgICAgIGlzU3RvcCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChtc2cuZGF0YSA9PT0gJ2NvbnRpbnVlJyAmJiAhaXNTdG9wKVxuICAgICAgICBydW5TaW11bGF0aW9uKCk7XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtc2cuZGF0YSkpIHtcbiAgICAgICAgaWYgKG1zZy5kYXRhWzBdID09PSAncGFyYW1zVXBkYXRlJykge1xuICAgICAgICAgICAgdmVydGljYWxEcmlmdCA9IG1zZy5kYXRhWzFdLmRyaWZ0VmVydGljYWw7XG4gICAgICAgICAgICBob3Jpem9udGFsRHJpZnQgPSBtc2cuZGF0YVsxXS5kcmlmdEhvcml6b250YWw7XG4gICAgICAgICAgICBzdGlja1Byb2JhYmlsaXR5ID0gbXNnLmRhdGFbMV0uYWdncmVnYXRpb25Qcm9iYWJpbGl0eTtcbiAgICAgICAgfSBlbHNlIGlmIChtc2cuZGF0YVswXSA9PT0gJ2luaXQnKSB7XG4gICAgICAgICAgICBjYW52YXNTaXplID0gbXNnLmRhdGFbMV0uY2FudmFzU2l6ZTtcbiAgICAgICAgICAgIHNlZWQgPSBtc2cuZGF0YVsxXS5zZWVkO1xuICAgICAgICAgICAgbWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZCA9IE1hdGguZmxvb3IoMC41ICogTWF0aC5zcXJ0KGNhbnZhc1NpemUueCAqIGNhbnZhc1NpemUueCArIGNhbnZhc1NpemUueSAqIGNhbnZhc1NpemUueSkpO1xuICAgICAgICAgICAgcnVuSW5pdCgpO1xuXG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBydW5Jbml0KCkge1xuICAgIGFnZ3JlZ2F0ZWRQb2ludFJhZGlpID0gW107XG4gICAgYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QgPSBbXTtcbiAgICBmcmFjdGFsRGltLnJlc2V0KCk7XG4gICAgcmFuZC5pbml0UmFuZE51bSgpO1xuICAgIGJpZ1RhYmxlID0gbmV3IEFycmF5KGNhbnZhc1NpemUueCAqIGNhbnZhc1NpemUueSkuZmlsbCgwKTtcbiAgICBjdXJyZW50TWF4UmFkaXVzID0gMDtcbiAgICBhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgPSAwO1xuXG4gICAgZHJhd1BpeGVsKG5ldyBQb2ludChzZWVkLngsIHNlZWQueSksIGNhbnZhc1NpemUpO1xuICAgIGRyYXdQaXhlbChuZXcgUG9pbnQoc2VlZC54ICsgMSwgc2VlZC55ICsgMSksIGNhbnZhc1NpemUpO1xuICAgIGRyYXdQaXhlbChuZXcgUG9pbnQoc2VlZC54LCBzZWVkLnkgKyAxKSwgY2FudmFzU2l6ZSk7XG4gICAgZHJhd1BpeGVsKG5ldyBQb2ludChzZWVkLnggKyAxLCBzZWVkLnkpLCBjYW52YXNTaXplKTtcbn1cblxuXG5mdW5jdGlvbiBydW5TaW11bGF0aW9uKCkge1xuXG4gICAgaWYgKGNvcmUoKSlcbiAgICAgICAgYWdncmVnYXRlZFBhcnRpY2xlc0NvdW50Kys7XG5cbiAgICBpZiAoYWdncmVnYXRlZFBhcnRpY2xlc0NvdW50ICUgcGFydGljbGVzUGVyTWVzc2FnZSA9PT0gMCkge1xuICAgICAgICBsZXQgZmQgPSBmcmFjdGFsRGltLmZyYWN0YWxEaW0yKGFnZ3JlZ2F0ZWRQb2ludFJhZGlpLCBjdXJyZW50TWF4UmFkaXVzLCBtYXhBZ2dyZWdhdGVSYWRpdXNBbGxvd2VkKTtcbiAgICAgICAgcG9zdE1lc3NhZ2Uoe3BhcnQ6IEpTT04uc3RyaW5naWZ5KGFnZ3JlZ2F0ZWRQYXJ0aWNsZXNMaXN0KSwgZmQsIGFnZ3JlZ2F0ZWRQYXJ0aWNsZXNDb3VudCwgY3VycmVudE1heFJhZGl1c30pO1xuICAgICAgICBhZ2dyZWdhdGVkUGFydGljbGVzTGlzdC5sZW5ndGggPSAwO1xuICAgIH0gZWxzZSBpZiAoIWlzU3RvcCkge1xuICAgICAgICBpZiAoYWdncmVnYXRlZFBhcnRpY2xlc0NvdW50ICUgcGFydGljbGVzUGVyTWVzc2FnZSA9PT0gMClcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuU2ltdWxhdGlvbiwgMCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJ1blNpbXVsYXRpb24oKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gY29yZSgpIHtcbiAgICBsZXQgaXNOb3RBZ2dyZWdhdGVkID0gdHJ1ZTtcbiAgICBsZXQgbmV3UG9zaXRpb24gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgbGV0IHN0YXJ0UG9zaXRpb24gPSBuZXcgUG9pbnQoMCwgMCk7XG4gICAgbGV0IHJhbmRDaXJjdWxhclBvc2l0aW9uID0gcmFuZC5nZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb24oY3VycmVudE1heFJhZGl1cyArIGluc2VydE1hcmdpbiwgc2VlZCk7XG4gICAgc3RhcnRQb3NpdGlvbi5jb3B5KHJhbmRDaXJjdWxhclBvc2l0aW9uKTtcblxuICAgIGZvciAobGV0IGRvbmVTdGVwcyA9IDA7IGRvbmVTdGVwcyA8IG1heFN0ZXBzRm9yUGFydGljbGU7IGRvbmVTdGVwcysrKSB7XG5cbiAgICAgICAgaWYgKCFpc05vdEFnZ3JlZ2F0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjdXJyZW50TWF4UmFkaXVzID49IG1heEFnZ3JlZ2F0ZVJhZGl1c0FsbG93ZWQpIHtcbiAgICAgICAgICAgIGlzU3RvcCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudE1heFJhZGl1cyA+IG1heEFnZ3JlZ2F0ZVJhZGl1c0FsbG93ZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IGp1bXAgPSByYW5kLmdldFJhbmRKdW1wKGhvcml6b250YWxEcmlmdCwgdmVydGljYWxEcmlmdCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1bShzdGFydFBvc2l0aW9uLCBqdW1wKTtcblxuICAgICAgICBpZiAoIWlzSnVtcFdpdGhpbkRvbWFpbihuZXdQb3NpdGlvbiwgY3VycmVudE1heFJhZGl1cyArIGRvbWFpbk1hcmdpbiwgc2VlZCkpIHtcbiAgICAgICAgICAgIG5ld1Bvc2l0aW9uLmNvcHkoc3RhcnRQb3NpdGlvbik7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGlzQWdncmVnYXRlKG5ld1Bvc2l0aW9uLCBjYW52YXNTaXplKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0dldEFnZ3JlZ2F0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkcmF3UGl4ZWwoc3RhcnRQb3NpdGlvbiwgY2FudmFzU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRQb2ludFJhZGlpLnB1c2goc3RhcnRQb3NpdGlvbi5kaXN0YW5jZShzZWVkKSk7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRQYXJ0aWNsZXNMaXN0LnB1c2gobmV3UG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZ2dyZWdhdGVkUG9pbnRSYWRpaVthZ2dyZWdhdGVkUGFydGljbGVzQ291bnRdID4gY3VycmVudE1heFJhZGl1cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXhSYWRpdXMgPSBhZ2dyZWdhdGVkUG9pbnRSYWRpaVthZ2dyZWdhdGVkUGFydGljbGVzQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICBpc05vdEFnZ3JlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24uY29weShuZXdQb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0p1bXBXaXRoaW5Eb21haW4obmV3UG9zaXRpb24sIG1heFIsIHNlZWQpIHtcbiAgICByZXR1cm4gKG5ld1Bvc2l0aW9uLmRpc3RhbmNlU3F1YXJlKHNlZWQpIDw9IG1heFIgKiBtYXhSKTtcbn1cblxuZnVuY3Rpb24gaXNBZ2dyZWdhdGUocG9zaXRpb24sIGNhbnZhc1NpemUpIHtcbiAgICBsZXQgaW5kZXggPSAocG9zaXRpb24ueCArIHBvc2l0aW9uLnkgKiBjYW52YXNTaXplLngpO1xuICAgIHJldHVybiBiaWdUYWJsZVtpbmRleF0gPT09IDFcbn1cblxuZnVuY3Rpb24gaXNHZXRBZ2dyZWdhdGVkKCkge1xuICAgIHJldHVybiAocmFuZC5nZXRSYW5kVW5pZm9ybUJvb2woKSA8IHN0aWNrUHJvYmFiaWxpdHkpO1xufVxuXG5mdW5jdGlvbiBkcmF3UGl4ZWwocG9pbnQsIGNhbnZhc1NpemUpIHtcbiAgICBsZXQgaW5kZXggPSAocG9pbnQueCArIHBvaW50LnkgKiBjYW52YXNTaXplLngpO1xuICAgIGJpZ1RhYmxlW2luZGV4XSA9IDE7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);