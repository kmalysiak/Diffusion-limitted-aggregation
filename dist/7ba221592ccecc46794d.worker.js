!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var n=F[U]={i:U,l:!1,exports:{}};return Q[U].call(n.exports,n,n.exports,B),n.l=!0,n.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(B.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var n in Q)B.d(U,n,function(F){return Q[F]}.bind(null,n));return U},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/commonClasses.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Point =\n/*#__PURE__*/\nfunction () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Point, [{\n    key: "add",\n    value: function add(pt) {\n      this.x += pt.x;\n      this.y += pt.y;\n    }\n  }, {\n    key: "addPair",\n    value: function addPair(x, y) {\n      this.x += x;\n      this.y += y;\n    }\n  }, {\n    key: "subs",\n    value: function subs(pt) {\n      this.x -= pt.x;\n      this.y -= pt.y;\n    }\n  }, {\n    key: "copy",\n    value: function copy(pt) {\n      this.x = pt.x;\n      this.y = pt.y;\n    }\n  }, {\n    key: "copyPair",\n    value: function copyPair(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }, {\n    key: "sum",\n    value: function sum(a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n    }\n  }, {\n    key: "distanceSquare",\n    value: function distanceSquare(pt) {\n      var dx = this.x - pt.x;\n      var dy = this.y - pt.y;\n      return dx * dx + dy * dy;\n    }\n  }, {\n    key: "distance",\n    value: function distance(pt) {\n      return Math.floor(Math.sqrt(this.distanceSquare(pt)));\n    }\n  }]);\n\n  return Point;\n}();\n// CONCATENATED MODULE: ./src/rand.js\n\n\n\n\nvar randBufferSize = 100000;\nvar currentRand = 0;\nvar randNum = Array(randBufferSize);\nvar unitJump = 1;\n\nfunction initRandNum() {\n  for (var i = 0; i < randBufferSize; i++) {\n    randNum[i] = Math.random();\n  }\n}\n\nfunction getRandUniformBool() {\n  if (currentRand > randBufferSize - 1) currentRand = -1;\n  currentRand++;\n  return randNum[currentRand];\n}\n\nfunction getRandUniformRadian() {\n  return getRandUniformBool() * Math.PI * 2.0;\n}\n\nfunction getRandUniformCircularPosition(radius, seed) {\n  var randRadian = getRandUniformRadian();\n  return new Point(Math.floor(radius * Math.cos(randRadian)) + seed.x, Math.floor(radius * Math.sin(randRadian)) + seed.y);\n}\n\nfunction getHorizontalRandJump(horizontalDrift) {\n  if (getRandUniformBool() > horizontalDrift) return unitJump;else return -unitJump;\n}\n\nfunction getVerticalRandJump(verticalDrift) {\n  if (getRandUniformBool() > verticalDrift) return unitJump;else return -unitJump;\n}\n\nfunction getRandJump(horizontalDrift, verticalDrift) {\n  var jump = new Point(0, 0);\n\n  if (getRandUniformBool() < 0.5) {\n    jump.x = getHorizontalRandJump(horizontalDrift);\n  } else {\n    jump.y = getVerticalRandJump(verticalDrift);\n  }\n\n  return jump;\n}\n// CONCATENATED MODULE: ./src/fractalDim.js\n\n\nvar mass;\n\nvar isR2Calculation = false;\nvar minRadiusForCalculation = 15;\nvar minPointsCountToCalculate = 30;\n\nfunction fractalDim_reset() {\n  mass = undefined;\n}\n\nfunction fractalDim2(newParticleDist, maxR, maxSize) {\n  if (mass === undefined) {\n    mass = new Array(maxSize).fill(0);\n  }\n\n  for (var i = 0; i < newParticleDist.length; i++) {\n    mass[newParticleDist[i]]++;\n  }\n\n  var logSize = [];\n  var logMass = [];\n  var counter = 0;\n  var totalMass = 0;\n\n  for (var _i = minRadiusForCalculation; _i < maxR; _i++) {\n    if (mass[_i] > 0) {\n      totalMass += mass[_i];\n      logSize[counter] = Math.log(_i);\n      logMass[counter] = Math.log(totalMass);\n      counter++;\n    }\n  }\n\n  if (logSize.length > minPointsCountToCalculate) return linearRegression(logMass, logSize).slope;\n}\n\nfunction linearRegression(y, x) {\n  var lr = {};\n  var n = y.length;\n  var sum_x = 0;\n  var sum_y = 0;\n  var sum_xy = 0;\n  var sum_xx = 0;\n  var sum_yy = 0;\n\n  for (var i = 0; i < y.length; i++) {\n    sum_x += x[i];\n    sum_y += y[i];\n    sum_xy += x[i] * y[i];\n    sum_xx += x[i] * x[i];\n    sum_yy += y[i] * y[i];\n  }\n\n  if (isR2Calculation) {\n    lr[\'r2\'] = Math.pow((n * sum_xy - sum_x * sum_y) / Math.sqrt((n * sum_xx - sum_x * sum_x) * (n * sum_yy - sum_y * sum_y)), 2);\n  }\n\n  lr[\'slope\'] = (n * sum_xy - sum_x * sum_y) / (n * sum_xx - sum_x * sum_x);\n  lr[\'intercept\'] = (sum_y - lr.slope * sum_x) / n;\n  return lr;\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/core.js\n\n\n\nvar insertMargin = 3;\nvar domainMargin = 5;\nvar maxStepsForParticle = 100000;\nvar particlesPerMessage = 10;\nvar currentMaxRadius = 0;\nvar maxAggregateRadiusAllowed = 400;\nvar isStop = false;\nvar bigTable;\nvar core_seed = new Point(400, 400);\nvar core_horizontalDrift = 0.5;\nvar core_verticalDrift = 0.5;\nvar stickProbability = 1;\nvar aggregatedParticlesCount = 0;\nvar aggregatedPointRadii = [];\nvar aggregatedParticlesList = [];\nvar core_canvasSize = new Point(800, 800);\n\nonmessage = function onmessage(msg) {\n  if (msg.data === \'init\') runInit();\n\n  if (msg.data === \'start\') {\n    isStop = false;\n    runSimulation();\n  }\n\n  if (msg.data === \'stop\') {\n    isStop = true;\n    runInit();\n  }\n\n  if (msg.data === \'stop\') {\n    isStop = true;\n  }\n\n  if (msg.data === \'continue\' && !isStop) runSimulation();\n\n  if (Array.isArray(msg.data)) {\n    if (msg.data[0] === \'paramsUpdate\') {\n      core_verticalDrift = msg.data[1].verticalDrift;\n      core_horizontalDrift = msg.data[1].horizontalDrift;\n      stickProbability = msg.data[1].stickProbability;\n    }\n  }\n};\n\nfunction runInit() {\n  aggregatedPointRadii = [];\n  aggregatedParticlesList = [];\n  fractalDim_reset();\n  initRandNum();\n  var canvasSize = new Point(800, 800);\n  bigTable = new Array(800 * 800).fill(0);\n  currentMaxRadius = 0;\n  aggregatedParticlesCount = 0;\n  drawPixel(new Point(400, 400), canvasSize);\n  drawPixel(new Point(401, 401), canvasSize);\n  drawPixel(new Point(400, 401), canvasSize);\n  drawPixel(new Point(401, 400), canvasSize);\n}\n\nfunction runSimulation() {\n  if (core()) aggregatedParticlesCount++;\n\n  if (aggregatedParticlesCount % particlesPerMessage === 0) {\n    var fd = fractalDim2(aggregatedPointRadii, currentMaxRadius, maxAggregateRadiusAllowed);\n    postMessage({\n      part: JSON.stringify(aggregatedParticlesList),\n      fd: fd,\n      aggregatedParticlesCount: aggregatedParticlesCount,\n      currentMaxRadius: currentMaxRadius\n    });\n    aggregatedParticlesList.length = 0;\n  } else if (!isStop) {\n    if (aggregatedParticlesCount % particlesPerMessage === 0) setTimeout(runSimulation, 0);else runSimulation();\n  }\n}\n\nfunction core() {\n  var isNotAggregated = true;\n  var newPosition = new Point(0, 0);\n  var startPosition = new Point(0, 0);\n  var randCircularPosition = getRandUniformCircularPosition(currentMaxRadius + insertMargin, core_seed);\n  startPosition.copy(randCircularPosition);\n\n  for (var doneSteps = 0; doneSteps < maxStepsForParticle; doneSteps++) {\n    if (!isNotAggregated) return;\n\n    if (currentMaxRadius >= maxAggregateRadiusAllowed) {\n      isStop = true;\n      return;\n    }\n\n    if (currentMaxRadius > maxAggregateRadiusAllowed) return;\n    var jump = getRandJump(core_horizontalDrift, core_verticalDrift);\n    newPosition.sum(startPosition, jump);\n\n    if (!isJumpWithinDomain(newPosition, currentMaxRadius + domainMargin, core_seed)) {\n      newPosition.copy(startPosition);\n    } else {\n      if (isAggregate(newPosition, core_canvasSize)) {\n        if (isGetAggregated()) {\n          drawPixel(startPosition, core_canvasSize);\n          aggregatedPointRadii.push(startPosition.distance(core_seed));\n          aggregatedParticlesList.push(newPosition);\n          if (aggregatedPointRadii[aggregatedParticlesCount] > currentMaxRadius) currentMaxRadius = aggregatedPointRadii[aggregatedParticlesCount];\n          isNotAggregated = false;\n          return true;\n        }\n      } else {\n        startPosition.copy(newPosition);\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isJumpWithinDomain(newPosition, maxR, seed) {\n  return newPosition.distanceSquare(seed) <= maxR * maxR;\n}\n\nfunction isAggregate(position, canvasSize) {\n  var index = position.x + position.y * canvasSize.x;\n  return bigTable[index] === 1;\n}\n\nfunction isGetAggregated() {\n  return getRandUniformBool() < stickProbability;\n}\n\nfunction drawPixel(point, canvasSize) {\n  var index = point.x + point.y * canvasSize.x;\n  bigTable[index] = 1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uQ2xhc3Nlcy5qcz9kNDUwIiwid2VicGFjazovLy8uL3NyYy9yYW5kLmpzP2FhNmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYWN0YWxEaW0uanM/Mjk5OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS5qcz8yMGM5Il0sIm5hbWVzIjpbIlBvaW50IiwieCIsInkiLCJwdCIsImEiLCJiIiwiZHgiLCJkeSIsIk1hdGgiLCJmbG9vciIsInNxcnQiLCJkaXN0YW5jZVNxdWFyZSIsInJhbmRCdWZmZXJTaXplIiwiY3VycmVudFJhbmQiLCJyYW5kTnVtIiwiQXJyYXkiLCJ1bml0SnVtcCIsImluaXRSYW5kTnVtIiwiaSIsInJhbmRvbSIsImdldFJhbmRVbmlmb3JtQm9vbCIsImdldFJhbmRVbmlmb3JtUmFkaWFuIiwiUEkiLCJnZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb24iLCJyYWRpdXMiLCJzZWVkIiwicmFuZFJhZGlhbiIsImNvcyIsInNpbiIsImdldEhvcml6b250YWxSYW5kSnVtcCIsImhvcml6b250YWxEcmlmdCIsImdldFZlcnRpY2FsUmFuZEp1bXAiLCJ2ZXJ0aWNhbERyaWZ0IiwiZ2V0UmFuZEp1bXAiLCJqdW1wIiwibWFzcyIsImlzUjJDYWxjdWxhdGlvbiIsIm1pblJhZGl1c0ZvckNhbGN1bGF0aW9uIiwibWluUG9pbnRzQ291bnRUb0NhbGN1bGF0ZSIsInJlc2V0IiwidW5kZWZpbmVkIiwiZnJhY3RhbERpbTIiLCJuZXdQYXJ0aWNsZURpc3QiLCJtYXhSIiwibWF4U2l6ZSIsImZpbGwiLCJsZW5ndGgiLCJsb2dTaXplIiwibG9nTWFzcyIsImNvdW50ZXIiLCJ0b3RhbE1hc3MiLCJsb2ciLCJsaW5lYXJSZWdyZXNzaW9uIiwic2xvcGUiLCJsciIsIm4iLCJzdW1feCIsInN1bV95Iiwic3VtX3h5Iiwic3VtX3h4Iiwic3VtX3l5IiwicG93IiwiaW5zZXJ0TWFyZ2luIiwiZG9tYWluTWFyZ2luIiwibWF4U3RlcHNGb3JQYXJ0aWNsZSIsInBhcnRpY2xlc1Blck1lc3NhZ2UiLCJjdXJyZW50TWF4UmFkaXVzIiwibWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZCIsImlzU3RvcCIsImJpZ1RhYmxlIiwic3RpY2tQcm9iYWJpbGl0eSIsImFnZ3JlZ2F0ZWRQYXJ0aWNsZXNDb3VudCIsImFnZ3JlZ2F0ZWRQb2ludFJhZGlpIiwiYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QiLCJjYW52YXNTaXplIiwib25tZXNzYWdlIiwibXNnIiwiZGF0YSIsInJ1bkluaXQiLCJydW5TaW11bGF0aW9uIiwiaXNBcnJheSIsImZyYWN0YWxEaW0iLCJyYW5kIiwiZHJhd1BpeGVsIiwiY29yZSIsImZkIiwicG9zdE1lc3NhZ2UiLCJwYXJ0IiwiSlNPTiIsInN0cmluZ2lmeSIsInNldFRpbWVvdXQiLCJpc05vdEFnZ3JlZ2F0ZWQiLCJuZXdQb3NpdGlvbiIsInN0YXJ0UG9zaXRpb24iLCJyYW5kQ2lyY3VsYXJQb3NpdGlvbiIsImNvcHkiLCJkb25lU3RlcHMiLCJzdW0iLCJpc0p1bXBXaXRoaW5Eb21haW4iLCJpc0FnZ3JlZ2F0ZSIsImlzR2V0QWdncmVnYXRlZCIsInB1c2giLCJkaXN0YW5jZSIsInBvc2l0aW9uIiwiaW5kZXgiLCJwb2ludCJdLCJtYXBwaW5ncyI6Ijs7O0FBQWE7Ozs7Ozs7O0FBRWI7O0lBRU1BLEs7OztBQUNGLGlCQUFZQyxDQUFaLEVBQWVDLENBQWYsRUFBa0I7QUFBQTs7QUFDZCxTQUFLRCxDQUFMLEdBQVNBLENBQVQ7QUFDQSxTQUFLQyxDQUFMLEdBQVNBLENBQVQ7QUFDSDs7Ozt3QkFFR0MsRSxFQUFJO0FBQ0osV0FBS0YsQ0FBTCxJQUFVRSxFQUFFLENBQUNGLENBQWI7QUFDQSxXQUFLQyxDQUFMLElBQVVDLEVBQUUsQ0FBQ0QsQ0FBYjtBQUNIOzs7NEJBRU9ELEMsRUFBR0MsQyxFQUFHO0FBQ1YsV0FBS0QsQ0FBTCxJQUFVQSxDQUFWO0FBQ0EsV0FBS0MsQ0FBTCxJQUFVQSxDQUFWO0FBQ0g7Ozt5QkFFSUMsRSxF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YXdFLFVBQVUsQ0FBQ3pFLENBQWxEO0FBQ0EsU0FBT29FLFFBQVEsQ0FBQ21DLEtBQUQsQ0FBUixLQUFvQixDQUEzQjtBQUNIOztBQUVELFNBQVNKLGVBQVQsR0FBMkI7QUFDdkIsU0FBUWxCLGtCQUFBLEtBQTRCWixnQkFBcEM7QUFDSDs7QUFFRCxTQUFTYSxTQUFULENBQW1Cc0IsS0FBbkIsRUFBMEIvQixVQUExQixFQUFzQztBQUNsQyxNQUFJOEIsS0FBSyxHQUFJQyxLQUFLLENBQUN4RyxDQUFOLEdBQVV3RyxLQUFLLENBQUN2RyxDQUFOLEdBQVV3RSxVQUFVLENBQUN6RSxDQUE1QztBQUNBb0UsVUFBUSxDQUFDbUMsS0FBRCxDQUFSLEdBQWtCLENBQWxCO0FBQ0giLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IHtQb2ludH07XG5cbmNsYXNzIFBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuXG4gICAgYWRkKHB0KSB7XG4gICAgICAgIHRoaXMueCArPSBwdC54O1xuICAgICAgICB0aGlzLnkgKz0gcHQueTtcbiAgICB9XG5cbiAgICBhZGRQYWlyKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ICs9IHg7XG4gICAgICAgIHRoaXMueSArPSB5O1xuICAgIH1cblxuICAgIHN1YnMocHQpIHtcbiAgICAgICAgdGhpcy54IC09IHB0Lng7XG4gICAgICAgIHRoaXMueSAtPSBwdC55O1xuICAgIH1cblxuICAgIGNvcHkocHQpIHtcbiAgICAgICAgdGhpcy54ID0gcHQueDtcbiAgICAgICAgdGhpcy55ID0gcHQueTtcbiAgICB9XG5cbiAgICBjb3B5UGFpcih4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuXG4gICAgc3VtKGEsIGIpIHtcbiAgICAgICAgdGhpcy54ID0gYS54ICsgYi54O1xuICAgICAgICB0aGlzLnkgPSBhLnkgKyBiLnk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VTcXVhcmUocHQpIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy54IC0gcHQueDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy55IC0gcHQueTtcbiAgICAgICAgcmV0dXJuIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2UocHQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmUocHQpKSk7XG4gICAgfVxuXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQge2luaXRSYW5kTnVtLCBnZXRSYW5kVW5pZm9ybUJvb2wsIGdldFJhbmRKdW1wLCBnZXRSYW5kVW5pZm9ybUNpcmN1bGFyUG9zaXRpb259XG5pbXBvcnQge1BvaW50fSBmcm9tICcuL2NvbW1vbkNsYXNzZXMnO1xuXG5jb25zdCByYW5kQnVmZmVyU2l6ZSA9IDEwMDAwMDtcbmxldCBjdXJyZW50UmFuZCA9IDA7XG5sZXQgcmFuZE51bSA9IEFycmF5KHJhbmRCdWZmZXJTaXplKTtcbmNvbnN0IHVuaXRKdW1wID0gMTtcblxuZnVuY3Rpb24gaW5pdFJhbmROdW0oKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5kQnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgIHJhbmROdW1baV0gPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBnZXRSYW5kVW5pZm9ybUJvb2woKSB7XG4gICAgaWYgKGN1cnJlbnRSYW5kID4gcmFuZEJ1ZmZlclNpemUgLSAxKVxuICAgICAgICBjdXJyZW50UmFuZCA9IC0xO1xuXG4gICAgY3VycmVudFJhbmQrKztcbiAgICByZXR1cm4gcmFuZE51bVtjdXJyZW50UmFuZF07XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRVbmlmb3JtUmFkaWFuKCkge1xuICAgIHJldHVybiBnZXRSYW5kVW5pZm9ybUJvb2woKSAqIE1hdGguUEkgKiAyLjA7XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRVbmlmb3JtQ2lyY3VsYXJQb3NpdGlvbihyYWRpdXMsIHNlZWQpIHtcbiAgICBsZXQgcmFuZFJhZGlhbiA9IGdldFJhbmRVbmlmb3JtUmFkaWFuKCk7XG4gICAgcmV0dXJuIG5ldyBQb2ludChNYXRoLmZsb29yKHJhZGl1cyAqIE1hdGguY29zKHJhbmRSYWRpYW4pKSArIHNlZWQueCwgTWF0aC5mbG9vcihyYWRpdXMgKiBNYXRoLnNpbihyYW5kUmFkaWFuKSkgKyBzZWVkLnkpO1xufVxuXG5cbmZ1bmN0aW9uIGdldEhvcml6b250YWxSYW5kSnVtcChob3Jpem9udGFsRHJpZnQpIHtcbiAgICBpZiAoZ2V0UmFuZFVuaWZvcm1Cb29sKCkgPiBob3Jpem9udGFsRHJpZnQpIHJldHVybiB1bml0SnVtcDtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiAtdW5pdEp1bXA7XG59XG5cbmZ1bmN0aW9uIGdldFZlcnRpY2FsUmFuZEp1bXAodmVydGljYWxEcmlmdCkge1xuICAgIGlmIChnZXRSYW5kVW5pZm9ybUJvb2woKSA+IHZlcnRpY2FsRHJpZnQpIHJldHVybiB1bml0SnVtcDtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiAtdW5pdEp1bXA7XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRKdW1wKGhvcml6b250YWxEcmlmdCwgdmVydGljYWxEcmlmdCkge1xuICAgIGxldCBqdW1wID0gbmV3IFBvaW50KDAsIDApO1xuXG4gICAgaWYgKGdldFJhbmRVbmlmb3JtQm9vbCgpIDwgMC41KSB7XG4gICAgICAgIGp1bXAueCA9IGdldEhvcml6b250YWxSYW5kSnVtcChob3Jpem9udGFsRHJpZnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGp1bXAueSA9IGdldFZlcnRpY2FsUmFuZEp1bXAodmVydGljYWxEcmlmdCk7XG4gICAgfVxuICAgIHJldHVybiBqdW1wO1xufSIsIid1c2Ugc3RyaWN0JztcblxubGV0IG1hc3M7XG5cbmV4cG9ydCB7ZnJhY3RhbERpbTIsIHJlc2V0fVxuXG5jb25zdCBpc1IyQ2FsY3VsYXRpb24gPSBmYWxzZTtcbmNvbnN0IG1pblJhZGl1c0ZvckNhbGN1bGF0aW9uID0gMTU7XG5jb25zdCBtaW5Qb2ludHNDb3VudFRvQ2FsY3VsYXRlID0gMzA7XG5cblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgbWFzcyA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZnJhY3RhbERpbTIobmV3UGFydGljbGVEaXN0LCBtYXhSLCBtYXhTaXplKSB7XG5cbiAgICBpZiAobWFzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hc3MgPSBuZXcgQXJyYXkobWF4U2l6ZSkuZmlsbCgwKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1BhcnRpY2xlRGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAgbWFzc1tuZXdQYXJ0aWNsZURpc3RbaV1dKys7XG5cbiAgICBsZXQgbG9nU2l6ZSA9IFtdO1xuICAgIGxldCBsb2dNYXNzID0gW107XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGxldCB0b3RhbE1hc3MgPSAwO1xuICAgIGZvciAobGV0IGkgPSBtaW5SYWRpdXNGb3JDYWxjdWxhdGlvbjsgaSA8IG1heFI7IGkrKykge1xuICAgICAgICBpZiAobWFzc1tpXSA+IDApIHtcbiAgICAgICAgICAgIHRvdGFsTWFzcyArPSBtYXNzW2ldO1xuICAgICAgICAgICAgbG9nU2l6ZVtjb3VudGVyXSA9IE1hdGgubG9nKGkpO1xuICAgICAgICAgICAgbG9nTWFzc1tjb3VudGVyXSA9IE1hdGgubG9nKHRvdGFsTWFzcyk7XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxvZ1NpemUubGVuZ3RoID4gbWluUG9pbnRzQ291bnRUb0NhbGN1bGF0ZSlcbiAgICAgICAgcmV0dXJuIGxpbmVhclJlZ3Jlc3Npb24obG9nTWFzcywgbG9nU2l6ZSkuc2xvcGU7XG59XG5cbmZ1bmN0aW9uIGxpbmVhclJlZ3Jlc3Npb24oeSwgeCkge1xuXG4gICAgbGV0IGxyID0ge307XG4gICAgbGV0IG4gPSB5Lmxlbmd0aDtcbiAgICBsZXQgc3VtX3ggPSAwO1xuICAgIGxldCBzdW1feSA9IDA7XG4gICAgbGV0IHN1bV94eSA9IDA7XG4gICAgbGV0IHN1bV94eCA9IDA7XG4gICAgbGV0IHN1bV95eSA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHkubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICBzdW1feCArPSB4W2ldO1xuICAgICAgICBzdW1feSArPSB5W2ldO1xuXG4gICAgICAgIHN1bV94eSArPSAoeFtpXSAqIHlbaV0pO1xuICAgICAgICBzdW1feHggKz0gKHhbaV0gKiB4W2ldKTtcbiAgICAgICAgc3VtX3l5ICs9ICh5W2ldICogeVtpXSk7XG4gICAgfVxuICAgIGlmIChpc1IyQ2FsY3VsYXRpb24pIHtcbiAgICAgICAgbHJbJ3IyJ10gPSBNYXRoLnBvdygobiAqIHN1bV94eSAtIHN1bV94ICogc3VtX3kpIC8gTWF0aC5zcXJ0KChuICogc3VtX3h4IC0gc3VtX3ggKiBzdW1feCkgKiAobiAqIHN1bV95eSAtIHN1bV95ICogc3VtX3kpKSwgMik7XG4gICAgfVxuICAgIGxyWydzbG9wZSddID0gKG4gKiBzdW1feHkgLSBzdW1feCAqIHN1bV95KSAvIChuICogc3VtX3h4IC0gc3VtX3ggKiBzdW1feCk7XG4gICAgbHJbJ2ludGVyY2VwdCddID0gKHN1bV95IC0gbHIuc2xvcGUgKiBzdW1feCkgLyBuO1xuICAgIHJldHVybiBsclxufVxuIiwiaW1wb3J0IHtQb2ludH0gZnJvbSAnLi9jb21tb25DbGFzc2VzJztcbmltcG9ydCAqIGFzIHJhbmQgZnJvbSAnLi9yYW5kJztcbmltcG9ydCAqIGFzIGZyYWN0YWxEaW0gZnJvbSAnLi9mcmFjdGFsRGltJ1xuXG5cbmNvbnN0IGluc2VydE1hcmdpbiA9IDM7XG5jb25zdCBkb21haW5NYXJnaW4gPSA1O1xuY29uc3QgbWF4U3RlcHNGb3JQYXJ0aWNsZSA9IDEwMDAwMDtcbmNvbnN0IHBhcnRpY2xlc1Blck1lc3NhZ2UgPSAxMDtcblxubGV0IGN1cnJlbnRNYXhSYWRpdXMgPSAwO1xubGV0IG1heEFnZ3JlZ2F0ZVJhZGl1c0FsbG93ZWQgPSA0MDA7XG5sZXQgaXNTdG9wID0gZmFsc2U7XG5sZXQgYmlnVGFibGU7XG5sZXQgc2VlZCA9IG5ldyBQb2ludCg0MDAsIDQwMCk7XG5sZXQgaG9yaXpvbnRhbERyaWZ0ID0gMC41O1xubGV0IHZlcnRpY2FsRHJpZnQgPSAwLjU7XG5sZXQgc3RpY2tQcm9iYWJpbGl0eSA9IDE7XG5cbmxldCBhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgPSAwO1xubGV0IGFnZ3JlZ2F0ZWRQb2ludFJhZGlpID0gW107XG5sZXQgYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QgPSBbXTtcbmxldCBjYW52YXNTaXplID0gbmV3IFBvaW50KDgwMCwgODAwKTtcblxub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xuICAgIGlmIChtc2cuZGF0YSA9PT0gJ2luaXQnKVxuICAgICAgICBydW5Jbml0KCk7XG5cbiAgICBpZiAobXNnLmRhdGEgPT09ICdzdGFydCcpIHtcbiAgICAgICAgaXNTdG9wID0gZmFsc2U7XG4gICAgICAgIHJ1blNpbXVsYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAobXNnLmRhdGEgPT09ICdzdG9wJykge1xuICAgICAgICBpc1N0b3AgPSB0cnVlO1xuICAgICAgICBydW5Jbml0KCk7XG4gICAgfVxuXG4gICAgaWYgKG1zZy5kYXRhID09PSAnc3RvcCcpIHtcbiAgICAgICAgaXNTdG9wID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG1zZy5kYXRhID09PSAnY29udGludWUnICYmICFpc1N0b3ApXG4gICAgICAgIHJ1blNpbXVsYXRpb24oKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtc2cuZGF0YSkpIHtcbiAgICAgICAgaWYgKG1zZy5kYXRhWzBdID09PSAncGFyYW1zVXBkYXRlJykge1xuICAgICAgICAgICAgdmVydGljYWxEcmlmdCA9IG1zZy5kYXRhWzFdLnZlcnRpY2FsRHJpZnQ7XG4gICAgICAgICAgICBob3Jpem9udGFsRHJpZnQgPSBtc2cuZGF0YVsxXS5ob3Jpem9udGFsRHJpZnQ7XG4gICAgICAgICAgICBzdGlja1Byb2JhYmlsaXR5ID0gbXNnLmRhdGFbMV0uc3RpY2tQcm9iYWJpbGl0eTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJ1bkluaXQoKSB7XG4gICAgYWdncmVnYXRlZFBvaW50UmFkaWkgPSBbXTtcbiAgICBhZ2dyZWdhdGVkUGFydGljbGVzTGlzdCA9IFtdO1xuICAgIGZyYWN0YWxEaW0ucmVzZXQoKTtcbiAgICByYW5kLmluaXRSYW5kTnVtKCk7XG4gICAgbGV0IGNhbnZhc1NpemUgPSBuZXcgUG9pbnQoODAwLCA4MDApO1xuICAgIGJpZ1RhYmxlID0gbmV3IEFycmF5KDgwMCAqIDgwMCkuZmlsbCgwKTtcbiAgICBjdXJyZW50TWF4UmFkaXVzID0gMDtcbiAgICBhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgPSAwO1xuXG4gICAgZHJhd1BpeGVsKG5ldyBQb2ludCg0MDAsIDQwMCksIGNhbnZhc1NpemUpO1xuICAgIGRyYXdQaXhlbChuZXcgUG9pbnQoNDAxLCA0MDEpLCBjYW52YXNTaXplKTtcbiAgICBkcmF3UGl4ZWwobmV3IFBvaW50KDQwMCwgNDAxKSwgY2FudmFzU2l6ZSk7XG4gICAgZHJhd1BpeGVsKG5ldyBQb2ludCg0MDEsIDQwMCksIGNhbnZhc1NpemUpO1xufVxuXG5cbmZ1bmN0aW9uIHJ1blNpbXVsYXRpb24oKSB7XG5cbiAgICBpZiAoY29yZSgpKVxuICAgICAgICBhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQrKztcblxuICAgIGlmIChhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgJSBwYXJ0aWNsZXNQZXJNZXNzYWdlID09PSAwKSB7XG4gICAgICAgIGxldCBmZCA9IGZyYWN0YWxEaW0uZnJhY3RhbERpbTIoYWdncmVnYXRlZFBvaW50UmFkaWksIGN1cnJlbnRNYXhSYWRpdXMsIG1heEFnZ3JlZ2F0ZVJhZGl1c0FsbG93ZWQpO1xuICAgICAgICBwb3N0TWVzc2FnZSh7cGFydDogSlNPTi5zdHJpbmdpZnkoYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QpLCBmZCwgYWdncmVnYXRlZFBhcnRpY2xlc0NvdW50LCBjdXJyZW50TWF4UmFkaXVzfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZWRQYXJ0aWNsZXNMaXN0Lmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIGlmICghaXNTdG9wKSB7XG4gICAgICAgIGlmIChhZ2dyZWdhdGVkUGFydGljbGVzQ291bnQgJSBwYXJ0aWNsZXNQZXJNZXNzYWdlID09PSAwKVxuICAgICAgICAgICAgc2V0VGltZW91dChydW5TaW11bGF0aW9uLCAwKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcnVuU2ltdWxhdGlvbigpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBjb3JlKCkge1xuICAgIGxldCBpc05vdEFnZ3JlZ2F0ZWQgPSB0cnVlO1xuICAgIGxldCBuZXdQb3NpdGlvbiA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICBsZXQgc3RhcnRQb3NpdGlvbiA9IG5ldyBQb2ludCgwLCAwKTtcbiAgICBsZXQgcmFuZENpcmN1bGFyUG9zaXRpb24gPSByYW5kLmdldFJhbmRVbmlmb3JtQ2lyY3VsYXJQb3NpdGlvbihjdXJyZW50TWF4UmFkaXVzICsgaW5zZXJ0TWFyZ2luLCBzZWVkKTtcbiAgICBzdGFydFBvc2l0aW9uLmNvcHkocmFuZENpcmN1bGFyUG9zaXRpb24pO1xuXG4gICAgZm9yIChsZXQgZG9uZVN0ZXBzID0gMDsgZG9uZVN0ZXBzIDwgbWF4U3RlcHNGb3JQYXJ0aWNsZTsgZG9uZVN0ZXBzKyspIHtcblxuICAgICAgICBpZiAoIWlzTm90QWdncmVnYXRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGN1cnJlbnRNYXhSYWRpdXMgPj0gbWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZCkge1xuICAgICAgICAgICAgaXNTdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50TWF4UmFkaXVzID4gbWF4QWdncmVnYXRlUmFkaXVzQWxsb3dlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBsZXQganVtcCA9IHJhbmQuZ2V0UmFuZEp1bXAoaG9yaXpvbnRhbERyaWZ0LCB2ZXJ0aWNhbERyaWZ0KTtcbiAgICAgICAgbmV3UG9zaXRpb24uc3VtKHN0YXJ0UG9zaXRpb24sIGp1bXApO1xuXG4gICAgICAgIGlmICghaXNKdW1wV2l0aGluRG9tYWluKG5ld1Bvc2l0aW9uLCBjdXJyZW50TWF4UmFkaXVzICsgZG9tYWluTWFyZ2luLCBzZWVkKSkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24uY29weShzdGFydFBvc2l0aW9uKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoaXNBZ2dyZWdhdGUobmV3UG9zaXRpb24sIGNhbnZhc1NpemUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzR2V0QWdncmVnYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdQaXhlbChzdGFydFBvc2l0aW9uLCBjYW52YXNTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlZFBvaW50UmFkaWkucHVzaChzdGFydFBvc2l0aW9uLmRpc3RhbmNlKHNlZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlZFBhcnRpY2xlc0xpc3QucHVzaChuZXdQb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFnZ3JlZ2F0ZWRQb2ludFJhZGlpW2FnZ3JlZ2F0ZWRQYXJ0aWNsZXNDb3VudF0gPiBjdXJyZW50TWF4UmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heFJhZGl1cyA9IGFnZ3JlZ2F0ZWRQb2ludFJhZGlpW2FnZ3JlZ2F0ZWRQYXJ0aWNsZXNDb3VudF07XG4gICAgICAgICAgICAgICAgICAgIGlzTm90QWdncmVnYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbi5jb3B5KG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzSnVtcFdpdGhpbkRvbWFpbihuZXdQb3NpdGlvbiwgbWF4Uiwgc2VlZCkge1xuICAgIHJldHVybiAobmV3UG9zaXRpb24uZGlzdGFuY2VTcXVhcmUoc2VlZCkgPD0gbWF4UiAqIG1heFIpO1xufVxuXG5mdW5jdGlvbiBpc0FnZ3JlZ2F0ZShwb3NpdGlvbiwgY2FudmFzU2l6ZSkge1xuICAgIGxldCBpbmRleCA9IChwb3NpdGlvbi54ICsgcG9zaXRpb24ueSAqIGNhbnZhc1NpemUueCk7XG4gICAgcmV0dXJuIGJpZ1RhYmxlW2luZGV4XSA9PT0gMVxufVxuXG5mdW5jdGlvbiBpc0dldEFnZ3JlZ2F0ZWQoKSB7XG4gICAgcmV0dXJuIChyYW5kLmdldFJhbmRVbmlmb3JtQm9vbCgpIDwgc3RpY2tQcm9iYWJpbGl0eSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdQaXhlbChwb2ludCwgY2FudmFzU2l6ZSkge1xuICAgIGxldCBpbmRleCA9IChwb2ludC54ICsgcG9pbnQueSAqIGNhbnZhc1NpemUueCk7XG4gICAgYmlnVGFibGVbaW5kZXhdID0gMTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);